package com.suppliq.manufacturepro.Utils;

import java.util.LinkedHashMap;
import java.util.Map;

public class BenchmarkTimer {

    private static final Map<String, Long> startTimes = new LinkedHashMap<>();
    private static final Map<String, Long> durations = new LinkedHashMap<>();
    private static long globalStart;
    private static boolean appInitialization = true;

    public static void startAppBenchmark() {
        startTimes.clear();
        durations.clear();
        globalStart = System.currentTimeMillis();
        System.out.println("â³ Benchmarking started...");
    }

    public static void markStart(String label) {
        startTimes.put(label, System.currentTimeMillis());
    }

    public static void markEnd(String label) {
        Long start = startTimes.get(label);
        if (start == null) {
            System.err.println("âš ï¸ markStart ×—×¡×¨ ×¢×‘×•×¨ ×©×œ×‘: " + label);
            return;
        }
        durations.put(label, System.currentTimeMillis() - start);
    }

    public static void printResults() {
        System.out.println("\nğŸ“Š ×ª×•×¦××•×ª ×‘×™×¦×•×¢×™×:");
        if(appInitialization){
            long total = System.currentTimeMillis() - globalStart;
            System.out.println("ğŸš€ ×–××Ÿ ××ª×—×•×œ ×›×•×œ×œ: " + total + " ms");
            System.out.println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n");
            appInitialization=false;
        }
        for (Map.Entry<String, Long> entry : durations.entrySet()) {
            System.out.printf("â±ï¸ %-30s ××©×š: %3d ms\n", entry.getKey(), entry.getValue());
        }
    }
}
